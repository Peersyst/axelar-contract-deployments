#!/bin/bash

AXELARNET_GATEWAY="axelar1yvfcrdke7fasxfaxx2r706h7h85rnk3w68cc5f4fkmafz5j755ssl8h9p0"
RPC="http://devnet-amplifier.axelar.dev:26657"
CHAIN_ID="devnet-amplifier"
AVALANCHE_CHAIN="avalanche-fuji"
XRPL_EVM_CHAIN="xrpl-evm-sidechain"

# To change this depending on the transaction
SOURCE_CHAIN=$XRPL_EVM_CHAIN
TX_HASH="0xd9f647939a01f40916737b25056f0761d79f3b3f7852e40be71a6e3142a0bd4f"
TX_EVENT="2"
PAYLOAD="0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000e6176616c616e6368652d66756a6900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000000cb04fe953fd6a9e025ea1fa79d9b115d87d7e2a1fbca3db30d12d261fd944ca500000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000149159c650e1d7e10a17c450eb3d50778aba593d6100000000000000000000000000000000000000000000000000000000000000000000000000000000000000149159c650e1d7e10a17c450eb3d50778aba593d610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"

axelard() {
  docker run --rm --platform linux/amd64 -v $PWD/.axelar:/home/axelard/.axelar axelarnet/axelar-core:v1.0.2 axelard $@
}

axelard tx wasm execute $AXELARNET_GATEWAY '{"execute":{"cc_id":{"source_chain":"'"$SOURCE_CHAIN"'","message_id":"'"$TX_HASH-$TX_EVENT"'"},"payload":"'"$PAYLOAD"'"}}'\
     --keyring-backend test  \
     --from wallet  \
     --gas auto --gas-adjustment 1.5 --gas-prices 0.00005uamplifier \
     --chain-id $CHAIN_ID \
     --node $RPC